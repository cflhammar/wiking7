(this.webpackJsonpwiking7=this.webpackJsonpwiking7||[]).push([[0],{13:function(e,t,i){},14:function(e,t,i){},16:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i.n(s),a=i(8),r=i.n(a),c=(i(13),i(3)),d=i(4),o=i(1),h=i(6),l=i(5),p=(i(14),i.p+"static/media/img0.d6629132.png"),u=i.p+"static/media/img1.d23ef78f.png",b=i.p+"static/media/img2.2d6841f5.png",j=i.p+"static/media/img3.dfcd64d5.png",f=i.p+"static/media/img4.28c617b4.png",m=i.p+"static/media/img5.5ff61778.png",O=i.p+"static/media/img6.da65772b.png",g=i.p+"static/media/img7.c13c4dcb.png",v=i.p+"static/media/img8.acc921fd.png",k=i(0),x=[p,u,b,j,f,m,O,g,v],C=function(e){Object(h.a)(i,e);var t=Object(l.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).classes=["card-image",s.props.card.isFlipped,s.props.card.found],s.renderCard=s.renderCard.bind(Object(o.a)(s)),s.flipCard=s.flipCard.bind(Object(o.a)(s)),s.handleStyle=s.handleStyle.bind(Object(o.a)(s)),s}return Object(d.a)(i,[{key:"renderCard",value:function(){return this.props.card.isFlipped?x[this.props.card.value]:x[0]}},{key:"flipCard",value:function(){this.props.onFlip(this.props.card.id)}},{key:"handleStyle",value:function(){var e={color:"grey"};return this.props.card.isFlipped&&(e.color="white",e.backgroundColor="rgba(230,230,230,0.3)"),this.props.card.found&&(e.backgroundColor="rgba(40,240,40,0.3)"),e}},{key:"render",value:function(){return Object(k.jsx)("th",{className:"Card",children:Object(k.jsx)("img",{alt:"Card",className:this.classes,onClick:this.flipCard,src:this.renderCard()})},this.props.card.id)}}]),i}(n.a.Component),S=function(e){Object(h.a)(i,e);var t=Object(l.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).state={flipCounter:0},s.renderRow=s.renderRow.bind(Object(o.a)(s)),s}return Object(d.a)(i,[{key:"renderRow",value:function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)(C,{onFlip:this.props.onFlip,card:this.props.cards[e]},this.props.cards[e].id),Object(k.jsx)(C,{onFlip:this.props.onFlip,card:this.props.cards[e+1]},this.props.cards[e+1].id),Object(k.jsx)(C,{onFlip:this.props.onFlip,card:this.props.cards[e+2]},this.props.cards[e+2].id),Object(k.jsx)(C,{onFlip:this.props.onFlip,card:this.props.cards[e+3]},this.props.cards[e+3].id)]},e)}},{key:"render",value:function(){var e=this;return this.props.cards.length>5?Object(k.jsx)("table",{className:"Gameboard",children:Object(k.jsx)("tbody",{children:[0,4,8,12].map((function(t){return e.renderRow(t)}))})}):Object(k.jsx)("p",{})}}]),i}(n.a.Component),F=function(e){Object(h.a)(i,e);var t=Object(l.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).state={toplist:[],name:""},s.backendURL="https://wiking7.herokuapp.com/",s.getHighScore=s.getHighScore.bind(Object(o.a)(s)),s.renderToplist=s.renderToplist.bind(Object(o.a)(s)),s.addHighScore=s.addHighScore.bind(Object(o.a)(s)),s.handleNameChange=s.handleNameChange.bind(Object(o.a)(s)),s}return Object(d.a)(i,[{key:"getHighScore",value:function(){var e=this,t=this.backendURL+"api/highScore";fetch(t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({toplist:t})}))}},{key:"addHighScore",value:function(){this.state.name?(this.props.addHighScore(this.state.name),this.getHighScore()):alert("Enter name before submitting!")}},{key:"renderToplist",value:function(){var e=this.state.toplist.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t+1},t+1),Object(k.jsx)("td",{className:"table-name",children:e.name},t+2),Object(k.jsx)("td",{children:e.score},t+3)]},t)}));return Object(k.jsxs)("table",{className:"toplistTable",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Pos"}),Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Score"})]})}),Object(k.jsx)("tbody",{children:e})]})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"componentDidMount",value:function(){this.getHighScore()}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"toplist",children:[Object(k.jsxs)("div",{className:"input",children:[Object(k.jsx)("input",{placeholder:"Enter your name",onChange:this.handleNameChange}),Object(k.jsx)("button",{type:"submit",onClick:this.addHighScore,children:"Add Score"})]}),Object(k.jsx)("h3",{children:"Toplist:"}),this.renderToplist()]})}}]),i}(n.a.Component),y=function(e){Object(h.a)(i,e);var t=Object(l.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).state={cards:[{value:"",id:"",isFlipped:!1,found:!1}]},s.foundCorrect=0,s.flippedCards=0,s.numRounds=0,s.lowestScore="",s.onFlip=s.onFlip.bind(Object(o.a)(s)),s.setBoard=s.setBoard.bind(Object(o.a)(s)),s.shuffleBoard=s.shuffleBoard.bind(Object(o.a)(s)),s.checkMatch=s.checkMatch.bind(Object(o.a)(s)),s.resetFlipped=s.resetFlipped.bind(Object(o.a)(s)),s.addRound=s.addRound.bind(Object(o.a)(s)),s.checkFinished=s.checkFinished.bind(Object(o.a)(s)),s.updateScore=s.updateScore.bind(Object(o.a)(s)),s.componentDidMount=s.componentDidMount.bind(Object(o.a)(s)),s.putHighScore=s.putHighScore.bind(Object(o.a)(s)),s}return Object(d.a)(i,[{key:"putHighScore",value:function(e){if(8===this.foundCorrect){var t=JSON.stringify({name:e,score:this.numRounds});fetch("https://wiking7.herokuapp.com/api/highScore",{method:"POST",body:t,headers:{"Content-Type":"application/json"}}),this.setBoard()}else alert("You must finish the game before submitting score!")}},{key:"setBoard",value:function(){for(var e=[],t=0,i=1;i<9;i++)e.push({value:i,id:t,isFlipped:!1,found:!1}),e.push({value:i,id:t+1,isFlipped:!1,found:!1}),t+=2;var s=this.shuffleBoard(e);this.setState({cards:s}),this.foundCorrect=0,this.flippedCards=0,this.numRounds=0}},{key:"shuffleBoard",value:function(e){for(var t=e,i=t.length-1;i>0;i--){var s=Math.floor(Math.random()*(i+1)),n=[t[s],t[i]];t[i]=n[0],t[s]=n[1]}return t}},{key:"onFlip",value:function(e){var t=this.state.cards;2===this.flippedCards&&this.resetFlipped();for(var i=0;i<t.length;i++)if(t[i].id===e){if(t[i].isFlipped||t[i].found)break;this.flippedCards+=1,t[i].isFlipped=!0,this.setState({cards:t},(function(){console.log("card flipped")}))}2===this.flippedCards&&(this.checkMatch(),this.addRound(),this.checkFinished())}},{key:"addRound",value:function(){this.numRounds+=1}},{key:"checkFinished",value:function(){8===this.foundCorrect&&this.updateScore()}},{key:"updateScore",value:function(){this.lowestScore?this.numRounds<this.lowestScore&&(this.lowestScore=this.numRounds):this.lowestScore=this.numRounds}},{key:"checkMatch",value:function(){var e=this.state.cards.filter((function(e){return e.isFlipped&&!e.found}));if(e[0].value===e[1].value){for(var t=this.state.cards,i=0;i<t.length;i++)t[i].value===e[0].value&&(t[i].found=!0);this.setState({cards:t}),this.foundCorrect+=1,this.flippedCards=0}}},{key:"resetFlipped",value:function(){for(var e=this.state.cards,t=0;t<e.length;t++)e[t].found||(e[t].isFlipped=!1);this.setState({cards:e}),this.flippedCards=0}},{key:"componentDidMount",value:function(){this.setBoard()}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"Full",children:[Object(k.jsxs)("div",{className:"Full2",children:[Object(k.jsxs)("div",{className:"Data",children:[Object(k.jsx)("button",{className:"start-button",onClick:function(){e.setBoard()},children:"Restart Game"}),Object(k.jsxs)("div",{className:"data-inside",children:[Object(k.jsx)("p",{children:"Correct:"}),Object(k.jsxs)("p",{children:[" ",this.foundCorrect," / 8"]})]}),Object(k.jsxs)("div",{className:"data-inside",children:[Object(k.jsx)("p",{children:"Round:"}),Object(k.jsxs)("p",{children:[" ",this.numRounds]})]}),Object(k.jsxs)("div",{className:"data-inside",children:[Object(k.jsx)("p",{children:"Best score: "}),Object(k.jsx)("p",{children:this.lowestScore})]})]}),Object(k.jsx)("div",{className:"Gameboard",children:Object(k.jsx)(S,{onLoad:this.setBoard,onFlip:this.onFlip,cards:this.state.cards})})]}),Object(k.jsx)(F,{addHighScore:this.putHighScore})]})}}]),i}(n.a.Component),N=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(y,{})}),document.getElementById("root")),N()}},[[16,1,2]]]);
//# sourceMappingURL=main.7736c360.chunk.js.map