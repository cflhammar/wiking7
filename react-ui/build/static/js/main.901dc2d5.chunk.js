(this.webpackJsonpwiking7=this.webpackJsonpwiking7||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){},23:function(e,t,s){"use strict";s.r(t);var i=s(2),n=s.n(i),r=s(9),a=s.n(r),c=(s(14),s(3)),o=s(4),d=s(1),h=s(6),l=s(5),u=(s(15),s(16),s(0)),p=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).classes="card",i.renderCard=i.renderCard.bind(Object(d.a)(i)),i.flipCard=i.flipCard.bind(Object(d.a)(i)),i.handleStyle=i.handleStyle.bind(Object(d.a)(i)),i}return Object(o.a)(s,[{key:"renderCard",value:function(){return this.props.card.isFlipped?this.props.card.value:"?"}},{key:"flipCard",value:function(){this.props.onFlip(this.props.card.id)}},{key:"handleStyle",value:function(){var e={color:"black",height:"100px",fontSize:"50px",backgroundColor:"rgba(200,200,200,0.1)"};return this.props.card.isFlipped&&(e.color="white",e.backgroundColor="rgba(230,230,230,0.3)"),this.props.card.found&&(e.backgroundColor="rgba(40,240,40,0.3)"),e}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"cardContainer",children:Object(u.jsx)("div",{className:"card",style:this.handleStyle(),onClick:this.flipCard,children:this.renderCard()})},this.props.card.id)}}]),s}(n.a.Component),j=(s(18),function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={flipCounter:0},i.renderRow=i.renderRow.bind(Object(d.a)(i)),i}return Object(o.a)(s,[{key:"renderRow",value:function(e){return Object(u.jsxs)("div",{className:"rowCardContainer",children:[Object(u.jsx)(p,{onFlip:this.props.onFlip,card:this.props.cards[e]},this.props.cards[e].id),Object(u.jsx)(p,{onFlip:this.props.onFlip,card:this.props.cards[e+1]},this.props.cards[e+1].id),Object(u.jsx)(p,{onFlip:this.props.onFlip,card:this.props.cards[e+2]},this.props.cards[e+2].id),Object(u.jsx)(p,{onFlip:this.props.onFlip,card:this.props.cards[e+3]},this.props.cards[e+3].id)]},e)}},{key:"render",value:function(){var e=this;return this.props.cards.length>5?Object(u.jsx)("div",{className:"RowContainer",children:[0,4,8,12].map((function(t){return e.renderRow(t)}))}):Object(u.jsx)("p",{})}}]),s}(n.a.Component));s(19);s(20).config();var b=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={toplist:{rounds:"",time:""},name:""},i.backendURL="http://localhost:5000/",i.getHighScore=i.getHighScore.bind(Object(d.a)(i)),i.renderToplist=i.renderToplist.bind(Object(d.a)(i)),i.addHighScore=i.addHighScore.bind(Object(d.a)(i)),i.handleNameChange=i.handleNameChange.bind(Object(d.a)(i)),i}return Object(o.a)(s,[{key:"getHighScore",value:function(){var e=this,t=this.backendURL+"api/highScore";fetch(t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({toplist:t})}))}},{key:"addHighScore",value:function(){this.state.name?(this.props.addHighScore(this.state.name),this.getHighScore()):alert("Enter name before submitting!")}},{key:"renderToplist",value:function(e){var t=this.state.toplist[e];if(t){var s=t.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t+1},t+1),Object(u.jsx)("td",{children:e.name},t+2),Object(u.jsx)("td",{children:e.rounds},t+3),Object(u.jsx)("td",{children:e.time},t+4)]},t)}));return Object(u.jsxs)("table",{className:"toplistTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Pos"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Rounds"}),Object(u.jsx)("th",{children:"Time"})]})}),Object(u.jsx)("tbody",{children:s})]})}return"waiting on server"}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"componentDidMount",value:function(){this.getHighScore()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"toplist",children:[Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("input",{placeholder:"Enter your name",onChange:this.handleNameChange}),Object(u.jsx)("button",{type:"submit",onClick:this.addHighScore,children:"Save Result"})]}),Object(u.jsx)("div",{className:"outerToplistContainer",children:Object(u.jsxs)("div",{className:"toplistContainer",children:[Object(u.jsxs)("div",{className:"toplistRound",children:[Object(u.jsx)("h4",{children:"Fewest Rounds"}),this.renderToplist("rounds")]}),Object(u.jsxs)("div",{className:"toplistTime",children:[Object(u.jsx)("h4",{children:"Fastest Time"}),this.renderToplist("time")]})]})})]})}}]),s}(n.a.Component),f=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={cards:[{value:"",id:"",isFlipped:!1,found:!1}],time:0},i.foundCorrect=0,i.flippedCards=0,i.numRounds=0,i.lowestScore="-",i.posted=!1,i.onFlip=i.onFlip.bind(Object(d.a)(i)),i.setBoard=i.setBoard.bind(Object(d.a)(i)),i.shuffleBoard=i.shuffleBoard.bind(Object(d.a)(i)),i.checkMatch=i.checkMatch.bind(Object(d.a)(i)),i.resetFlipped=i.resetFlipped.bind(Object(d.a)(i)),i.addRound=i.addRound.bind(Object(d.a)(i)),i.checkFinished=i.checkFinished.bind(Object(d.a)(i)),i.updateScore=i.updateScore.bind(Object(d.a)(i)),i.componentDidMount=i.componentDidMount.bind(Object(d.a)(i)),i.putHighScore=i.putHighScore.bind(Object(d.a)(i)),i}return Object(o.a)(s,[{key:"putHighScore",value:function(e){if(8!==this.foundCorrect||this.posted)this.foundCorrect<8?alert("You must finish the game before submitting score!"):this.posted&&alert("Already posted!");else{var t="http://localhost:5000/";console.log(t);var s=JSON.stringify({name:e,score:this.numRounds,time:this.state.time});console.log("posting front"),console.log(s),fetch("http://localhost:5000/api/highScore",{method:"POST",body:s,headers:{"Content-Type":"application/json"}}),this.posted=!0}}},{key:"setBoard",value:function(){for(var e=this,t=[],s=0,i=1;i<9;i++)t.push({value:i,id:s,isFlipped:!1,found:!1}),t.push({value:i,id:s+1,isFlipped:!1,found:!1}),s+=2;var n=this.shuffleBoard(t);this.setState({cards:n}),this.foundCorrect=0,this.flippedCards=0,this.numRounds=0,this.posted=!1,clearInterval(this.interval),this.setState({time:0}),this.interval=setInterval((function(){return e.setState({time:e.state.time+1})}),1e3)}},{key:"shuffleBoard",value:function(e){for(var t=e,s=t.length-1;s>0;s--){var i=Math.floor(Math.random()*(s+1)),n=[t[i],t[s]];t[s]=n[0],t[i]=n[1]}return t}},{key:"onFlip",value:function(e){var t=this.state.cards;2===this.flippedCards&&this.resetFlipped();for(var s=0;s<t.length;s++)if(t[s].id===e){if(t[s].isFlipped||t[s].found)break;this.flippedCards+=1,t[s].isFlipped=!0,this.setState({cards:t},(function(){console.log("card flipped")}))}2===this.flippedCards&&(this.checkMatch(),this.addRound(),this.checkFinished())}},{key:"addRound",value:function(){this.numRounds+=1}},{key:"checkFinished",value:function(){8===this.foundCorrect&&(clearInterval(this.interval),this.updateScore())}},{key:"updateScore",value:function(){this.lowestScore?this.numRounds<this.lowestScore&&(this.lowestScore=this.numRounds):this.lowestScore=this.numRounds}},{key:"checkMatch",value:function(){var e=this.state.cards.filter((function(e){return e.isFlipped&&!e.found}));if(e[0].value===e[1].value){for(var t=this.state.cards,s=0;s<t.length;s++)t[s].value===e[0].value&&(t[s].found=!0);this.setState({cards:t}),this.foundCorrect+=1,this.flippedCards=0}}},{key:"resetFlipped",value:function(){for(var e=this.state.cards,t=0;t<e.length;t++)e[t].found||(e[t].isFlipped=!1);this.setState({cards:e}),this.flippedCards=0}},{key:"componentDidMount",value:function(){this.setBoard()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"outerContainer",children:[Object(u.jsx)("div",{className:"gameContainer",children:Object(u.jsx)(j,{onLoad:this.setBoard,onFlip:this.onFlip,cards:this.state.cards})}),Object(u.jsxs)("div",{className:"menuScoreContainer",children:[Object(u.jsxs)("div",{className:"menuContainer",children:[Object(u.jsxs)("div",{className:"dataBar",children:["            ",Object(u.jsx)("button",{className:"start-button",onClick:function(){e.setBoard()},children:"Restart"})]}),Object(u.jsxs)("div",{className:"dataBar",children:[Object(u.jsx)("p",{children:"Time:"}),Object(u.jsxs)("p",{children:[" ",this.state.time]})]}),Object(u.jsxs)("div",{className:"dataBar",children:[Object(u.jsx)("p",{children:"Round:"}),Object(u.jsxs)("p",{children:[" ",this.numRounds]})]}),Object(u.jsxs)("div",{className:"dataBar",children:[Object(u.jsx)("p",{children:"Correct:"}),Object(u.jsxs)("p",{children:[" ",this.foundCorrect," / 8"]})]}),Object(u.jsxs)("div",{className:"dataBar",children:[Object(u.jsx)("p",{children:"Best score: "}),Object(u.jsx)("p",{children:this.lowestScore?this.lowestScore:"-"})]})]}),Object(u.jsx)("div",{className:"highScoreContainer",children:Object(u.jsx)(b,{addHighScore:this.putHighScore})})]})]})}}]),s}(n.a.Component);a.a.render(Object(u.jsx)(f,{}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.901dc2d5.chunk.js.map